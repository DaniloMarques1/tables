<%= render "layouts/menu" %>

<div class="container">
  <h3 class="text-center">Itens da mesa <%= @table.number %></h3>
  <% if has_items %>
    <table class="table">
      <thead>
        <tr>
          <th scope="col">Nome</th>
          <th scope="col">Pre√ßo</th>
          <th scope="col">Quantidade</th>
        </tr>
      </thead>
      <tbody>
        <% @items.each do |item| %>
          <tr>
            <td><%= item.name %></td>
            <td>R$ <%= item.price %></td>
            <td><%= item.quantity %></td>
          </tr>
        <% end %>
      </tbody>
      <tfoot>
        <tr class="table-success">
          <td><%= total_label %></td>
          <td>R$ <%= current_total %></td>
          <td><%= quantity_total %></td>
        </tr>
      </tfoot>
    </table>
  <% else %>
    <h3 class="text-center">Nenhum item foi adicionado a essa mesa</h3>
  <% end %>

  <br />

  <% if is_open %>
  <div class="d-flex flex-row justify-content-between">
    <div class="p-2">
    <%= link_to 'Adicionar Item', new_item_path, :class => "btn btn-primary", :style => "color: white" %>
    </div>
    <div class="p-2">
    <%= button_to 'Fechar conta', close_table_path, method: :put, :class => "btn btn-danger", :style => "color: white"  %>
    </div>
  </div>
  <% end %>

  <br />

  <%= link_to 'Voltar', tables_path, :class => "btn btn-warning", :style => "color: white" %>
</div>

